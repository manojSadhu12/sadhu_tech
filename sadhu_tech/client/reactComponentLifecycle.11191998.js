import{l as e,m as t,o as a,n,t as r,p as o,q as s,e as p,s as i,C as m,c,d as g,b as $,f as d,h as l,i as f,S as h,j as u,k as b}from"./client.9c259cf4.js";import"./Icon.680bd4d0.js";import"./Button.44f5306d.js";import"./Image.c8019b1e.js";import"./stores.2b7dbef2.js";import{H as w,P as y,N as v,b as S,a as C,C as k}from"./index.7beba4f9.js";function D(p){let i;const m=new w({props:{data:"React Class Component Lifecycle",id:"reactClassComponentLifecycle",isBig:"true"}}),c=new y({props:{data:'<h5 class="ql-align-center"><span style="color: rgb(136, 136, 136);">This is only supported by class components.</span></h5>'}}),g=new v({props:{data:"<p>React have determined some of the lifecycle methods are unsafe to use and will be deprecated from React v17. So in this chapter we have not included them.</p>"}}),$=new v({props:{data:'<p>In this chapter we have refer a word called <span style="background-color: black;"> Side-Effect </span>. It means thinks like making a  HTTP request or storing data in local storage of the browser or sending some analytics to Google analytics etc.</p>'}}),d=new w({props:{data:"React class component lifecycle flowchart",id:"reactClassComponentLifecycleFlowchart"}}),l=new S({props:{pic:"/images/da86ed50-f336-11e9-b4ff-ad48fafeab92___5a59ce00-7580-11ea-9257-075f2989ad62.jpeg",ratio:"8"}}),f=new y({props:{data:'<p>This flowchart illustrates what steps a React class component takes while creating, updating, destroying and error catching. These steps are called as Lifecycle of a React class component.</p><p><br></p><p>Lifecycle is divided into 4 steps:</p><ol><li>Mounting</li><li>Updating</li><li>Unmounting</li><li>Error handling</li></ol><p>While executing a Class component before all these lifecycle methods Constructor (default <span style="background-color: rgb(230, 0, 0);">ES6</span> feature) is called first.</p><p><br></p>'}}),h=new w({props:{data:"React Class Constructor",id:"reactClassConstructor"}}),u=new C({props:{language:"javascript",uid:"9cb046b0-3469-11ea-a352-4f264e581e2b",data:'export class App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: "Manoj",\n            age: 26\n        };\n    }\n}',pic:"",ratio:"4",highlight:""}}),b=new y({props:{data:'<p>In the above code shows the usage of React class constructor. </p><ul><li>Constructor accepts props.</li><li>Calling super(props) is mandatory.</li><li>We can initilize state in constructor.</li><li>Writing constructor is optional. Without constructor also we can initilize state to learn this visit <a href="/reactJs/course/reactComponents/reactStateBasics#creatingStateObject" target="_blank">React Sate Basics</a> chapter.</li><li>Don\'t cause <span style="background-color: black;"> Side-Effect </span> in the constructor.</li></ul><p><br></p>'}}),k=new w({props:{data:"getDerivedStateFromProps",id:"getDerivedStateFromProps"}}),D=new C({props:{language:"javascript",uid:"fecd8471-346e-11ea-a352-4f264e581e2b",data:"/**\n* @param props\n* @param state\n* @return state, can be null\n*/\n\nstatic getDerivedStateFromProps(props, state): state",pic:"",ratio:"4",highlight:""}}),P=new y({props:{data:'<p>It\'s an alternate to <strong>componentWillReceiveProps </strong>and <strong>componentWillReceiveProps </strong>will be deprecated from React v17.</p><p><strong>getDerivedStateFromProps </strong>is a static method so this doesn\'t have access to \'this\'.</p><p><strong>getDerivedStateFromProps</strong><span style="color: rgb(51, 51, 51);"> is called in </span><strong style="color: rgb(51, 51, 51);">mounting</strong><span style="color: rgb(51, 51, 51);"> and </span><strong style="color: rgb(51, 51, 51);">updating </strong><span style="color: rgb(51, 51, 51);">stage of the component.</span></p><p>This method exists only for rare use cases where the state depends on changes in props in a component.</p><p><br></p>'}}),U=new C({props:{language:"javascript",uid:"78e07c21-34ee-11ea-b042-272f26784870",data:"class Select extends React.Component {\n  static getDerivedStateFromProps(props, state) {\n    if (props.selected !== state.selected) {\n      return {\n        selected: props.selected,\n      };\n    }\n\n    // Return null if the state hasn't changed\n    return null;\n  }\n\n  // ...\n}",pic:"",ratio:"4",highlight:""}}),x=new v({props:{data:'<p><strong>getDerivedStateFromProps</strong> may be called multiple times for a single update, so don\'t <span style="background-color: black;">Side-effects</span>. Instead, you should use <strong>componentDidUpdate</strong>, which executes only once after the component updates.</p>'}}),j=new v({props:{data:'<p><strong>getDerivedStateFromProps </strong>adds complexity to the component and it may be unnecessory. Checkout this post <a href="https://reactjs.org/blog/2018/06/07/you-probably-dont-need-derived-state.html" target="_blank">You Probably Don\'t Need Derived State</a></p>'}}),I=new w({props:{data:"render",id:"render"}}),R=new y({props:{data:"<p><strong>render</strong> is the most commonly used and the only mandatory method in class component.</p><p><strong>render</strong> can return JSX, Arrays, Fragments, Portals, String, Number, Boolean, null.</p><p><strong>render</strong> handles the rendering of component. It is called in mounting and updating stage of the component.</p><p><br></p>"}}),B=new C({props:{language:"javascript",uid:"edebd5c1-34f1-11ea-b042-272f26784870",data:"class Hello extends Component {\n   render() {\n      return <div>Hello {this.props.name}</div>\n   }\n}",pic:"",ratio:"4",highlight:""}}),F=new v({props:{data:"<p>The render() function should be pure, meaning that it does not modify component state or cause any Side-effects and it does not directly interact with the browser. If you need to interact with the browser, perform your work in <strong>componentDidMount</strong>() or the other lifecycle methods instead.</p>"}}),T=new w({props:{data:"componentDidMount",id:"componentDidMount"}}),M=new y({props:{data:"<p><strong>componentDidMount </strong>is called immediately after component is mounted (i.e inserted into the DOM). This is good place to cause side-effects so you can make subscriptions or network calls etc. You can call setState in this method.</p><p><br></p><p>But if you call setState immediately it will call render again but it will happen before the browser updates the screen. But it may cause performance impact so use it carefully.</p><p><br></p>"}}),W=new w({props:{data:"shouldComponentUpdate",id:"shouldComponentUpdate"}}),L=new C({props:{language:"javascript",uid:"2f610381-3534-11ea-b042-272f26784870",data:"/**\n* @param nextProps\n* @param nextState\n* @return boolean, default it is true, if returned value false updating process will be stopped.\n*/\nshouldComponentUpdate(nextProps, nextState) : boolean",pic:"",ratio:"4",highlight:""}}),E=new y({props:{data:"<p><strong>shouldComponentUpdate </strong>is to decide that React should re-render component based on changed props or state. By default this method returns true, so controll is passed to render().</p><p><br></p><p>We can override this method and compare existing <strong>this.props</strong> and <strong>this.state</strong> with the <strong>nextProps</strong> and <strong>nextState</strong> and conditionally return false to stop re-render.</p><p><br></p><p>If  you want to override this method try not to make deep equality checks or JSON.stringify() for comparision because it may cause effect performance.</p><p><br></p>"}}),_=new C({props:{language:"javascript",uid:"a38aafb1-3537-11ea-b042-272f26784870",data:"shouldComponentUpdate(nextProps, nextState) {\n    return this.props.contactsList != nextProps.contactsList ||\n        this.state.name !== nextState.name\n}",pic:"",ratio:"4",highlight:"2"}}),O=new y({props:{data:'<p>Note that in line number 2 contactsList is shallow compared that means <span style="background-color: black;"> this.props.contactsList </span> and <span style="background-color: black;"> nextProps.contactsList </span> are having different references. To understand this read <a href="/reactJs/course/reactComponents/shouldReactStateBeImmutable" target="_blank">Should React State be Immutable</a> chapter</p>'}}),A=new v({props:{data:'<p><strong>shouldComponentUpdate </strong>is there for performance improvements. But this method should be handled very carefully else we will get unstable result.</p><p>React offers us with <a href="/reactJs/course/reactComponents/reactPureComponents" target="_blank">PureComponents</a> which makes a shallow comparision between props and state and desides to re-render or not. Most of the cases <a href="/reactJs/course/reactComponents/reactPureComponents" target="_blank">PureComponents</a> helps us for performance improvements.</p>'}}),J=new w({props:{data:"getSnapshotBeforeUpdate",id:"getSnapshotBeforeUpdate"}}),q=new C({props:{language:"javascript",uid:"9048b931-3783-11ea-b971-0fdc1423bf31",data:"/**\n * @param prevProps\n * @param prevState\n * @return any, We can return any value or null\n */\ngetSnapshotBeforeUpdate(prevProps, prevState): any | null",pic:"",ratio:"4",highlight:""}}),N=new y({props:{data:"<p><strong>getSnapshotBeforeUpdate </strong>is called right before DOM is updated. We can access DOM before it is updated.</p><p>The returned value will be passed to <strong>componentDidUpdate</strong>.</p><p><br></p><p>This method should be used rarely or not used at all.</p><p><br></p>"}}),H=new w({props:{data:"componentDidUpdate",id:"componentDidUpdate"}}),Y=new C({props:{language:"javascript",uid:"ad480de1-3785-11ea-b971-0fdc1423bf31",data:"/**\n* @param prevProps\n* @param prevState\n* @param snapshot, This is the returned value from getSnapshotBeforeUpdate, By default this is undefined.\n*/\ncomponentDidUpdate(prevProps, prevState, snapshot)",pic:"",ratio:"4",highlight:""}}),z=new y({props:{data:"<p><strong>componentDidUpdate </strong>is called immediately after the component is updated in the DOM. </p><p>This is a good place to make network calls. Always wrap network call by comparing props.</p>"}}),G=new C({props:{language:"javascript",uid:"fb764941-3786-11ea-b971-0fdc1423bf31",data:"componentDidUpdate(prevProps) {\n    if (this.props.userID !== prevProps.userID) {\n        this.getUserData(this.props.userID);\n    }\n}",pic:"",ratio:"4",highlight:""}}),X=new y({props:{data:"<p>You can call setState in this method.</p><p><br></p><p>But if you call setState immediately it will call render again but it will happen before the browser updates the screen. But it may cause performance impact so use it carefully.</p><p><br></p>"}}),K=new w({props:{data:"componentWillUnmount",id:"componentWillUnmount"}}),Q=new y({props:{data:"<p><strong>componentWillUnmount</strong> is called immediately before a component is unmounted and destroyed. Perform any necessary cleanup in this method, such as invalidating timers, canceling network requests, or cleaning up any subscriptions that were created in <strong>componentDidMount</strong>.</p><p><br></p><p>You should not call setState() in componentWillUnmount() because the component will never be re-rendered. Once a component instance is unmounted, it will never be mounted again.</p><p><br></p>"}}),V=new w({props:{data:"getDerivedStateFromError",id:"getDerivedStateFromError"}}),Z=new C({props:{language:"javascript",uid:"fe7daaf1-3788-11ea-b971-0fdc1423bf31",data:"/**\n* @param error\n* @return state, Enable fallback UI by changing state\n*/\nstatic getDerivedStateFromError(error): state",pic:"",ratio:"4",highlight:""}}),ee=new y({props:{data:"<p>A static method called after an error has been thrown by a descendant component. It receives the error as a parameter and should return a value to update state to ennable the fallback UI.</p><p><br></p><p><strong>Fallback UI can be handled by returning changed state.</strong></p>"}}),te=new w({props:{data:"componentDidCatch",id:"componentDidCatch"}}),ae=new C({props:{language:"javascript",uid:"b19d6171-3789-11ea-b971-0fdc1423bf31",data:"/**\n* @param error, The error that was thrown\n* @param info, An object with a componentStack key containing information about which component threw the error\n*/\ncomponentDidCatch(error, info)",pic:"",ratio:"4",highlight:""}}),ne=new y({props:{data:"<p>Called after an error has been thrown by a descendant component. It receives error and info of the error as a parameters. Can be used for logging purposes.</p><p><br></p><p><strong>Don't set Fallback UI here.</strong></p>"}});return{c(){e(m.$$.fragment),e(c.$$.fragment),e(g.$$.fragment),e($.$$.fragment),e(d.$$.fragment),e(l.$$.fragment),e(f.$$.fragment),e(h.$$.fragment),e(u.$$.fragment),e(b.$$.fragment),e(k.$$.fragment),e(D.$$.fragment),e(P.$$.fragment),e(U.$$.fragment),e(x.$$.fragment),e(j.$$.fragment),e(I.$$.fragment),e(R.$$.fragment),e(B.$$.fragment),e(F.$$.fragment),e(T.$$.fragment),e(M.$$.fragment),e(W.$$.fragment),e(L.$$.fragment),e(E.$$.fragment),e(_.$$.fragment),e(O.$$.fragment),e(A.$$.fragment),e(J.$$.fragment),e(q.$$.fragment),e(N.$$.fragment),e(H.$$.fragment),e(Y.$$.fragment),e(z.$$.fragment),e(G.$$.fragment),e(X.$$.fragment),e(K.$$.fragment),e(Q.$$.fragment),e(V.$$.fragment),e(Z.$$.fragment),e(ee.$$.fragment),e(te.$$.fragment),e(ae.$$.fragment),e(ne.$$.fragment)},l(e){t(m.$$.fragment,e),t(c.$$.fragment,e),t(g.$$.fragment,e),t($.$$.fragment,e),t(d.$$.fragment,e),t(l.$$.fragment,e),t(f.$$.fragment,e),t(h.$$.fragment,e),t(u.$$.fragment,e),t(b.$$.fragment,e),t(k.$$.fragment,e),t(D.$$.fragment,e),t(P.$$.fragment,e),t(U.$$.fragment,e),t(x.$$.fragment,e),t(j.$$.fragment,e),t(I.$$.fragment,e),t(R.$$.fragment,e),t(B.$$.fragment,e),t(F.$$.fragment,e),t(T.$$.fragment,e),t(M.$$.fragment,e),t(W.$$.fragment,e),t(L.$$.fragment,e),t(E.$$.fragment,e),t(_.$$.fragment,e),t(O.$$.fragment,e),t(A.$$.fragment,e),t(J.$$.fragment,e),t(q.$$.fragment,e),t(N.$$.fragment,e),t(H.$$.fragment,e),t(Y.$$.fragment,e),t(z.$$.fragment,e),t(G.$$.fragment,e),t(X.$$.fragment,e),t(K.$$.fragment,e),t(Q.$$.fragment,e),t(V.$$.fragment,e),t(Z.$$.fragment,e),t(ee.$$.fragment,e),t(te.$$.fragment,e),t(ae.$$.fragment,e),t(ne.$$.fragment,e)},m(e,t){a(m,e,t),a(c,e,t),a(g,e,t),a($,e,t),a(d,e,t),a(l,e,t),a(f,e,t),a(h,e,t),a(u,e,t),a(b,e,t),a(k,e,t),a(D,e,t),a(P,e,t),a(U,e,t),a(x,e,t),a(j,e,t),a(I,e,t),a(R,e,t),a(B,e,t),a(F,e,t),a(T,e,t),a(M,e,t),a(W,e,t),a(L,e,t),a(E,e,t),a(_,e,t),a(O,e,t),a(A,e,t),a(J,e,t),a(q,e,t),a(N,e,t),a(H,e,t),a(Y,e,t),a(z,e,t),a(G,e,t),a(X,e,t),a(K,e,t),a(Q,e,t),a(V,e,t),a(Z,e,t),a(ee,e,t),a(te,e,t),a(ae,e,t),a(ne,e,t),i=!0},p:n,i(e){i||(r(m.$$.fragment,e),r(c.$$.fragment,e),r(g.$$.fragment,e),r($.$$.fragment,e),r(d.$$.fragment,e),r(l.$$.fragment,e),r(f.$$.fragment,e),r(h.$$.fragment,e),r(u.$$.fragment,e),r(b.$$.fragment,e),r(k.$$.fragment,e),r(D.$$.fragment,e),r(P.$$.fragment,e),r(U.$$.fragment,e),r(x.$$.fragment,e),r(j.$$.fragment,e),r(I.$$.fragment,e),r(R.$$.fragment,e),r(B.$$.fragment,e),r(F.$$.fragment,e),r(T.$$.fragment,e),r(M.$$.fragment,e),r(W.$$.fragment,e),r(L.$$.fragment,e),r(E.$$.fragment,e),r(_.$$.fragment,e),r(O.$$.fragment,e),r(A.$$.fragment,e),r(J.$$.fragment,e),r(q.$$.fragment,e),r(N.$$.fragment,e),r(H.$$.fragment,e),r(Y.$$.fragment,e),r(z.$$.fragment,e),r(G.$$.fragment,e),r(X.$$.fragment,e),r(K.$$.fragment,e),r(Q.$$.fragment,e),r(V.$$.fragment,e),r(Z.$$.fragment,e),r(ee.$$.fragment,e),r(te.$$.fragment,e),r(ae.$$.fragment,e),r(ne.$$.fragment,e),i=!0)},o(e){o(m.$$.fragment,e),o(c.$$.fragment,e),o(g.$$.fragment,e),o($.$$.fragment,e),o(d.$$.fragment,e),o(l.$$.fragment,e),o(f.$$.fragment,e),o(h.$$.fragment,e),o(u.$$.fragment,e),o(b.$$.fragment,e),o(k.$$.fragment,e),o(D.$$.fragment,e),o(P.$$.fragment,e),o(U.$$.fragment,e),o(x.$$.fragment,e),o(j.$$.fragment,e),o(I.$$.fragment,e),o(R.$$.fragment,e),o(B.$$.fragment,e),o(F.$$.fragment,e),o(T.$$.fragment,e),o(M.$$.fragment,e),o(W.$$.fragment,e),o(L.$$.fragment,e),o(E.$$.fragment,e),o(_.$$.fragment,e),o(O.$$.fragment,e),o(A.$$.fragment,e),o(J.$$.fragment,e),o(q.$$.fragment,e),o(N.$$.fragment,e),o(H.$$.fragment,e),o(Y.$$.fragment,e),o(z.$$.fragment,e),o(G.$$.fragment,e),o(X.$$.fragment,e),o(K.$$.fragment,e),o(Q.$$.fragment,e),o(V.$$.fragment,e),o(Z.$$.fragment,e),o(ee.$$.fragment,e),o(te.$$.fragment,e),o(ae.$$.fragment,e),o(ne.$$.fragment,e),i=!1},d(e){s(m,e),s(c,e),s(g,e),s($,e),s(d,e),s(l,e),s(f,e),s(h,e),s(u,e),s(b,e),s(k,e),s(D,e),s(P,e),s(U,e),s(x,e),s(j,e),s(I,e),s(R,e),s(B,e),s(F,e),s(T,e),s(M,e),s(W,e),s(L,e),s(E,e),s(_,e),s(O,e),s(A,e),s(J,e),s(q,e),s(N,e),s(H,e),s(Y,e),s(z,e),s(G,e),s(X,e),s(K,e),s(Q,e),s(V,e),s(Z,e),s(ee,e),s(te,e),s(ae,e),s(ne,e)}}}function P(n){let h,u,b;const w=new k({props:{$$slots:{default:[D]},$$scope:{ctx:n}}});return{c(){h=p("meta"),u=i(),e(w.$$.fragment),this.h()},l(e){const a=m('[data-svelte="svelte-irkptd"]',document.head);h=c(a,"META",{name:!0,content:!0}),a.forEach(g),u=$(e),t(w.$$.fragment,e),this.h()},h(){document.title="React Class Component Lifecycle",d(h,"name","description"),d(h,"content","React Class Component Lifecycle")},m(e,t){l(document.head,h),f(e,u,t),a(w,e,t),b=!0},p(e,[t]){const a={};1&t&&(a.$$scope={dirty:t,ctx:e}),w.$set(a)},i(e){b||(r(w.$$.fragment,e),b=!0)},o(e){o(w.$$.fragment,e),b=!1},d(e){g(h),e&&g(u),s(w,e)}}}export default class extends h{constructor(e){super(),u(this,e,null,P,b,{})}}
