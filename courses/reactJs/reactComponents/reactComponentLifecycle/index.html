<!DOCTYPE html> <html lang=en> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#333333 name=theme-color> <base href=/ > <link href="https://fonts.googleapis.com/css2?family=Solway:wght@300;400&display=swap" rel=stylesheet> <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel=stylesheet> <link href=global.css rel=stylesheet> <link href=my_styles.css rel=stylesheet> <link href=prism.css rel=stylesheet> <link href=manifest.json rel=manifest> <link href=favicon.png rel=icon type=image/png> <script src=prismLineHighlight.js></script> <link href=../static/my_styles.css rel=stylesheet> <link href=client/main.588052814.css rel=stylesheet><link href=client/_layout.df5ad919.css rel=stylesheet><link href=client/client.9c259cf4.css rel=stylesheet><link href=client/Image.c8019b1e.css rel=stylesheet><link href=client/index.7beba4f9.css rel=stylesheet> <noscript id=sapper-head-start></noscript><title>React Class Component Lifecycle</title><meta content="React Class Component Lifecycle" name=description><noscript id=sapper-head-end></noscript> </head> <body class=line-numbers> <div id=sapper> <header class="flex flex-wrap fixed h-16 items-center left-0 p-0 secondary-bg top-0 w-screen z-30" style=""><a href=.><img alt="Sadhu Tech" src=/logo.png class=mainLogo></a></header> <main class=mt-16 style="display:flex;flex-flow:column;height:calc(100vh - 64px)"> <header class="flex flex-wrap fixed h-16 items-center left-0 p-0 secondary-bg top-0 w-screen z-30" style=padding-left:18px;margin-left:0><a href=/courses/reactJs/reactComponents/reactComponentLifecycle?sideNav sapper-noscroll><i aria-hidden=true class="transition material-icons text-xl" style="margin:auto 0;vertical-align:top;cursor:pointer">menu </i></a> <a href=.><img alt="Sadhu Tech" src=/logo.png class=mainLogo></a></header> <div style=background:#fff;margin-left:0><div class=trinary-bg style=height:45px;width:100%;display:flex;flex-direction:row;align-items:center;padding-left:10px><div class=hideScrollbar style="display:flex;flex-direction:row;overflow-x:scroll;margin:0 auto;height:100%"><div class="unSelectable selected-chip" style="margin:0 5px;cursor:pointer;height:100%;display:flex;min-width:150px;padding:7px"><div class="svelte-a5tf4d wrapper" style=height:30px></div> <span style=padding-top:3px;padding-left:8px>React Js </span></div><div class=unSelectable style="margin:0 5px;cursor:pointer;height:100%;display:flex;min-width:150px;padding:7px"><div class="svelte-a5tf4d wrapper" style=height:30px></div> <span style=padding-top:3px;padding-left:8px>JavaScript </span></div><div class=unSelectable style="margin:0 5px;cursor:pointer;height:100%;display:flex;min-width:150px;padding:7px"><div class="svelte-a5tf4d wrapper" style=height:30px></div> <span style=padding-top:3px;padding-left:8px>TypeScript </span></div></div> <a href=. style="padding:0 6px;border-bottom:2px solid;margin:0 6px;cursor:pointer;font-size:13px;text-align:center">All Courses</a></div> <main> <div class=pageFull><div class=pageMain><div style=width:100%;height:0;background-color:#add8e6></div> <div class=content><div class=primary-color style=display:flex;align-items:center;margin-top:10px> <a href=/courses/reactJs/reactComponents/reactComponentLifecycle#reactClassComponentLifecycle><h1 class=bigHeading data-hash=reactClassComponentLifecycle>React Class Component Lifecycle</h1></a></div><div class=para style=padding-top:10px;white-space:pre-wrap><h5 class=ql-align-center><span style=color:#888>This is only supported by class components.</span></h5></div><div class="note primary-transparent-bg svelte-3ggl6u" style=padding-top:10px;white-space:pre-wrap><p>React have determined some of the lifecycle methods are unsafe to use and will be deprecated from React v17. So in this chapter we have not included them.</div><div class="note primary-transparent-bg svelte-3ggl6u" style=padding-top:10px;white-space:pre-wrap><p>In this chapter we have refer a word called <span style=background-color:#000> Side-Effect </span>. It means thinks like making a HTTP request or storing data in local storage of the browser or sending some analytics to Google analytics etc.</div><div class=primary-color style=display:flex;align-items:center;margin-top:10px><a href=/courses/reactJs/reactComponents/reactComponentLifecycle#reactClassComponentLifecycleFlowchart style=font-size:30px;margin-right:10px># </a> <a href=/courses/reactJs/reactComponents/reactComponentLifecycle#reactClassComponentLifecycleFlowchart><h1 class=smallHeading data-hash=reactClassComponentLifecycleFlowchart>React class component lifecycle flowchart</h1></a></div><div style="margin:10px;height:auto,marginTop: 10px"><div class="normal svelte-bnxs0y"> <div class="svelte-a5tf4d wrapper" style=height:px></div></div></div><div class=para style=padding-top:10px;white-space:pre-wrap><p>This flowchart illustrates what steps a React class component takes while creating, updating, destroying and error catching. These steps are called as Lifecycle of a React class component.<p><br><p>Lifecycle is divided into 4 steps:<ol><li>Mounting<li>Updating<li>Unmounting<li>Error handling</ol><p>While executing a Class component before all these lifecycle methods Constructor (default <span style=background-color:#e60000>ES6</span> feature) is called first.<p><br></div><div class=primary-color style=display:flex;align-items:center;margin-top:10px><a href=/courses/reactJs/reactComponents/reactComponentLifecycle#reactClassConstructor style=font-size:30px;margin-right:10px># </a> <a href=/courses/reactJs/reactComponents/reactComponentLifecycle#reactClassConstructor><h1 class=smallHeading data-hash=reactClassConstructor>React Class Constructor</h1></a></div> <div class=para style=padding-top:10px;white-space:pre-wrap><p>In the above code shows the usage of React class constructor. <ul><li>Constructor accepts props.<li>Calling super(props) is mandatory.<li>We can initilize state in constructor.<li>Writing constructor is optional. Without constructor also we can initilize state to learn this visit <a href=/reactJs/course/reactComponents/reactStateBasics#creatingStateObject target=_blank>React Sate Basics</a> chapter.<li>Don't cause <span style=background-color:#000> Side-Effect </span> in the constructor.</ul><p><br></div><div class=primary-color style=display:flex;align-items:center;margin-top:10px><a href=/courses/reactJs/reactComponents/reactComponentLifecycle#getDerivedStateFromProps style=font-size:30px;margin-right:10px># </a> <a href=/courses/reactJs/reactComponents/reactComponentLifecycle#getDerivedStateFromProps><h1 class=smallHeading data-hash=getDerivedStateFromProps>getDerivedStateFromProps</h1></a></div> <div class=para style=padding-top:10px;white-space:pre-wrap><p>It's an alternate to <strong>componentWillReceiveProps </strong>and <strong>componentWillReceiveProps </strong>will be deprecated from React v17.<p><strong>getDerivedStateFromProps </strong>is a static method so this doesn't have access to 'this'.<p><strong>getDerivedStateFromProps</strong><span style=color:#333> is called in </span><strong style=color:#333>mounting</strong><span style=color:#333> and </span><strong style=color:#333>updating </strong><span style=color:#333>stage of the component.</span><p>This method exists only for rare use cases where the state depends on changes in props in a component.<p><br></div> <div class="note primary-transparent-bg svelte-3ggl6u" style=padding-top:10px;white-space:pre-wrap><p><strong>getDerivedStateFromProps</strong> may be called multiple times for a single update, so don't <span style=background-color:#000>Side-effects</span>. Instead, you should use <strong>componentDidUpdate</strong>, which executes only once after the component updates.</div><div class="note primary-transparent-bg svelte-3ggl6u" style=padding-top:10px;white-space:pre-wrap><p><strong>getDerivedStateFromProps </strong>adds complexity to the component and it may be unnecessory. Checkout this post <a href=https://reactjs.org/blog/2018/06/07/you-probably-dont-need-derived-state.html target=_blank>You Probably Don't Need Derived State</a></div><div class=primary-color style=display:flex;align-items:center;margin-top:10px><a href=/courses/reactJs/reactComponents/reactComponentLifecycle#render style=font-size:30px;margin-right:10px># </a> <a href=/courses/reactJs/reactComponents/reactComponentLifecycle#render><h1 class=smallHeading data-hash=render>render</h1></a></div><div class=para style=padding-top:10px;white-space:pre-wrap><p><strong>render</strong> is the most commonly used and the only mandatory method in class component.<p><strong>render</strong> can return JSX, Arrays, Fragments, Portals, String, Number, Boolean, null.<p><strong>render</strong> handles the rendering of component. It is called in mounting and updating stage of the component.<p><br></div> <div class="note primary-transparent-bg svelte-3ggl6u" style=padding-top:10px;white-space:pre-wrap><p>The render() function should be pure, meaning that it does not modify component state or cause any Side-effects and it does not directly interact with the browser. If you need to interact with the browser, perform your work in <strong>componentDidMount</strong>() or the other lifecycle methods instead.</div><div class=primary-color style=display:flex;align-items:center;margin-top:10px><a href=/courses/reactJs/reactComponents/reactComponentLifecycle#componentDidMount style=font-size:30px;margin-right:10px># </a> <a href=/courses/reactJs/reactComponents/reactComponentLifecycle#componentDidMount><h1 class=smallHeading data-hash=componentDidMount>componentDidMount</h1></a></div><div class=para style=padding-top:10px;white-space:pre-wrap><p><strong>componentDidMount </strong>is called immediately after component is mounted (i.e inserted into the DOM). This is good place to cause side-effects so you can make subscriptions or network calls etc. You can call setState in this method.<p><br><p>But if you call setState immediately it will call render again but it will happen before the browser updates the screen. But it may cause performance impact so use it carefully.<p><br></div><div class=primary-color style=display:flex;align-items:center;margin-top:10px><a href=/courses/reactJs/reactComponents/reactComponentLifecycle#shouldComponentUpdate style=font-size:30px;margin-right:10px># </a> <a href=/courses/reactJs/reactComponents/reactComponentLifecycle#shouldComponentUpdate><h1 class=smallHeading data-hash=shouldComponentUpdate>shouldComponentUpdate</h1></a></div> <div class=para style=padding-top:10px;white-space:pre-wrap><p><strong>shouldComponentUpdate </strong>is to decide that React should re-render component based on changed props or state. By default this method returns true, so controll is passed to render().<p><br><p>We can override this method and compare existing <strong>this.props</strong> and <strong>this.state</strong> with the <strong>nextProps</strong> and <strong>nextState</strong> and conditionally return false to stop re-render.<p><br><p>If you want to override this method try not to make deep equality checks or JSON.stringify() for comparision because it may cause effect performance.<p><br></div> <div class=para style=padding-top:10px;white-space:pre-wrap><p>Note that in line number 2 contactsList is shallow compared that means <span style=background-color:#000> this.props.contactsList </span> and <span style=background-color:#000> nextProps.contactsList </span> are having different references. To understand this read <a href=/reactJs/course/reactComponents/shouldReactStateBeImmutable target=_blank>Should React State be Immutable</a> chapter</div><div class="note primary-transparent-bg svelte-3ggl6u" style=padding-top:10px;white-space:pre-wrap><p><strong>shouldComponentUpdate </strong>is there for performance improvements. But this method should be handled very carefully else we will get unstable result.<p>React offers us with <a href=/reactJs/course/reactComponents/reactPureComponents target=_blank>PureComponents</a> which makes a shallow comparision between props and state and desides to re-render or not. Most of the cases <a href=/reactJs/course/reactComponents/reactPureComponents target=_blank>PureComponents</a> helps us for performance improvements.</div><div class=primary-color style=display:flex;align-items:center;margin-top:10px><a href=/courses/reactJs/reactComponents/reactComponentLifecycle#getSnapshotBeforeUpdate style=font-size:30px;margin-right:10px># </a> <a href=/courses/reactJs/reactComponents/reactComponentLifecycle#getSnapshotBeforeUpdate><h1 class=smallHeading data-hash=getSnapshotBeforeUpdate>getSnapshotBeforeUpdate</h1></a></div> <div class=para style=padding-top:10px;white-space:pre-wrap><p><strong>getSnapshotBeforeUpdate </strong>is called right before DOM is updated. We can access DOM before it is updated.<p>The returned value will be passed to <strong>componentDidUpdate</strong>.<p><br><p>This method should be used rarely or not used at all.<p><br></div><div class=primary-color style=display:flex;align-items:center;margin-top:10px><a href=/courses/reactJs/reactComponents/reactComponentLifecycle#componentDidUpdate style=font-size:30px;margin-right:10px># </a> <a href=/courses/reactJs/reactComponents/reactComponentLifecycle#componentDidUpdate><h1 class=smallHeading data-hash=componentDidUpdate>componentDidUpdate</h1></a></div> <div class=para style=padding-top:10px;white-space:pre-wrap><p><strong>componentDidUpdate </strong>is called immediately after the component is updated in the DOM. <p>This is a good place to make network calls. Always wrap network call by comparing props.</div> <div class=para style=padding-top:10px;white-space:pre-wrap><p>You can call setState in this method.<p><br><p>But if you call setState immediately it will call render again but it will happen before the browser updates the screen. But it may cause performance impact so use it carefully.<p><br></div><div class=primary-color style=display:flex;align-items:center;margin-top:10px><a href=/courses/reactJs/reactComponents/reactComponentLifecycle#componentWillUnmount style=font-size:30px;margin-right:10px># </a> <a href=/courses/reactJs/reactComponents/reactComponentLifecycle#componentWillUnmount><h1 class=smallHeading data-hash=componentWillUnmount>componentWillUnmount</h1></a></div><div class=para style=padding-top:10px;white-space:pre-wrap><p><strong>componentWillUnmount</strong> is called immediately before a component is unmounted and destroyed. Perform any necessary cleanup in this method, such as invalidating timers, canceling network requests, or cleaning up any subscriptions that were created in <strong>componentDidMount</strong>.<p><br><p>You should not call setState() in componentWillUnmount() because the component will never be re-rendered. Once a component instance is unmounted, it will never be mounted again.<p><br></div><div class=primary-color style=display:flex;align-items:center;margin-top:10px><a href=/courses/reactJs/reactComponents/reactComponentLifecycle#getDerivedStateFromError style=font-size:30px;margin-right:10px># </a> <a href=/courses/reactJs/reactComponents/reactComponentLifecycle#getDerivedStateFromError><h1 class=smallHeading data-hash=getDerivedStateFromError>getDerivedStateFromError</h1></a></div> <div class=para style=padding-top:10px;white-space:pre-wrap><p>A static method called after an error has been thrown by a descendant component. It receives the error as a parameter and should return a value to update state to ennable the fallback UI.<p><br><p><strong>Fallback UI can be handled by returning changed state.</strong></div><div class=primary-color style=display:flex;align-items:center;margin-top:10px><a href=/courses/reactJs/reactComponents/reactComponentLifecycle#componentDidCatch style=font-size:30px;margin-right:10px># </a> <a href=/courses/reactJs/reactComponents/reactComponentLifecycle#componentDidCatch><h1 class=smallHeading data-hash=componentDidCatch>componentDidCatch</h1></a></div> <div class=para style=padding-top:10px;white-space:pre-wrap><p>Called after an error has been thrown by a descendant component. It receives error and info of the error as a parameters. Can be used for logging purposes.<p><br><p><strong>Don't set Fallback UI here.</strong></div></div> <div class=topicsNav style="margin:20px 10px 0 20px"><a href=/courses/reactJs/reactComponents/reactStateBasics><button class="button button border-solid border-solid bg-transparent border border-primary-400 font-medium hover:bg-primary-trans overflow-hidden px-4 py-2 relative rounded text-primary-500 text-sm uppercase" type=""> <i aria-hidden=true class="transition material-icons text-xl" style=margin-top:-2px;vertical-align:top;cursor:pointer>keyboard_arrow_left</i> React State Basics</button></a> <a href=/courses/reactJs/reactComponents/reactPureComponents><button class="button button border-solid border-solid bg-transparent border border-primary-400 font-medium hover:bg-primary-trans overflow-hidden px-4 py-2 relative rounded text-primary-500 text-sm uppercase" type=""> React Pure Components <i aria-hidden=true class="transition material-icons text-xl" style=margin-top:-2px;vertical-align:top;cursor:pointer>keyboard_arrow_right</i></button></a></div> <div class="svelte-a5tf4d wrapper" style=width:100%></div></div> </div></main> <a href=/courses/reactJs/reactComponents/reactComponentLifecycle?message style=position:fixed;bottom:25px;right:25px sapper-noscroll><button class="transition bg-primary-500 button elevation-3 flex font-medium hover:bg-primary-400 hover:elevation-5 items-center m-4 overflow-hidden p-4 px-4 relative rounded rounded-full text-sm text-white uppercase" type="" iconcolor=white><i aria-hidden=true class="transition material-icons text-xl" style="margin:auto 0;vertical-align:top;color:#fff;cursor:pointer">rate_review</i> </button></a> <div class=secondary-bg style=width:100%;text-align:center><div class="flex flex-wrap w-full" style="padding:12px 16px"><a href=/founder/manojSadhu style="cursor:pointer;text-align:center;padding:0 12px" class="lg:w-1/3 md:w-1/3 sm:w-1/2 xl:w-1/3"><img alt=Founder src=/founder/thumbnail.jpg height=40 style=border-radius:50%;margin-left:auto;margin-right:auto width=40> <p style=font-size:12px>Manoj Sadhu</p></a> <div class="lg:w-1/3 md:w-1/3 sm:w-1/2 xl:w-1/3" style="text-align:center;padding:0 12px"><p>Contact</p> <div><p style=font-size:12px><i aria-hidden=true class="primary-color material-icons text-xl transition" style="margin:auto 0;vertical-align:top;cursor:pointer">email</i> sadhu.manojkumar@gmail.com </div></div> <div class="lg:w-1/3 md:w-1/3 sm:w-1/2 xl:w-1/3" style="text-align:center;padding:0 12px"><p>Mobile apps</p> <div><i aria-hidden=true class="primary-color material-icons text-xl transition" style="margin:auto 0;vertical-align:top;cursor:pointer">android</i></div></div></div></div></div></main> </div> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,{},{},null,{}]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');var s=document.createElement("script");try{new Function("if(0)import('')")();s.src="/client/client.9c259cf4.js";s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@1.0.1.js";s.setAttribute("data-main","/client/client.9c259cf4.js")}document.head.appendChild(s)</script> <script> if (
        !window.Promise ||
        ![].includes ||
        !Object.assign ||
        !window.Map ||
        !window.fetch
    ) {
        document["wr" + "ite"](
            '<script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=default,fetch,Array.prototype.find,Object.values"><\/script>'
        );
    } </script> 